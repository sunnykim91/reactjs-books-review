(this["webpackJsonpreactjs-books-review"]=this["webpackJsonpreactjs-books-review"]||[]).push([[0],{131:function(e,t,n){},140:function(e,t,n){e.exports=n.p+"static/media/bg_book.313bd1c7.jpg"},143:function(e,t,n){e.exports=n.p+"static/media/bg_signin.ef01ffe9.png"},158:function(e,t,n){e.exports=n(261)},164:function(e,t,n){},170:function(e,t,n){},240:function(e,t,n){},259:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(3),c=n.n(o),u=(n(163),n(164),n(63)),l=n(46),i=n(19);var s=function(e){function t(t){var n=localStorage.getItem("token");return null===n?r.a.createElement(l.a,{to:"/signin"}):r.a.createElement(e,Object.assign({},t,{token:n}))}return t.displayName="withAuth(".concat(e.name,")"),t},d=n(20),f=n(17),m=n.n(f),b=n(264),p=n(268),g=n(45),v=(n(170),n(32)),E=n.n(v),k=b.a.Header,h=function(){var e=Object(l.g)();return r.a.createElement(k,{style:{width:"100%",padding:"0px"}},r.a.createElement(p.a,{theme:"light",mode:"horizontal",style:{lineHeight:"64px",padding:"0px",color:"hotpink",fontSize:"large",background:"floralwhite"},onClick:function(t){"1"===t.key?e.push("/"):"2"===t.key&&e.push("/bookList")}},r.a.createElement(p.a.Item,{key:"1",className:"menu"},"Home"),r.a.createElement(p.a.Item,{key:"2"},"\ucc45 \ubaa9\ub85d")),r.a.createElement(g.a,{className:"signOutBtn",onClick:function(){return function(){var t,n;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=localStorage.getItem("token"),a.next=4,m.a.awrap(E.a.delete("https://api.marktube.tv/v1/me",{headers:{Authorization:"Bearer ".concat(t)}}));case 4:n=a.sent,localStorage.removeItem("token"),n.data.success&&alert("\ub85c\uadf8\uc544\uc6c3 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),e.push("/signin"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),null,null,[[0,10]])}()}},"\ub85c\uadf8\uc544\uc6c3"))},O=n(140),y=n.n(O);function j(){var e=Object(i.a)(["\n  width: 500px;\n  height: 80vh;\n"]);return j=function(){return e},e}var x=b.a.Content,I=d.a.img(j()),S=s((function(e){e.token;return r.a.createElement(b.a,null,r.a.createElement(h,null),r.a.createElement(x,{style:{padding:"50px",background:"lavenderblush"}},r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:380,display:"flex",justifyContent:"space-evenly",alignItems:"center"}},r.a.createElement(I,{src:y.a}),r.a.createElement("div",{style:{fontSize:"20px"}},"Sunny\uc758 \uac1c\ubc1c\uc11c\uc801 \ub9ac\uc2a4\ud2b8\uc785\ub2c8\ub2e4."))))})),B=n(266),w=n(265),R=n(143),A=n.n(R);function N(){var e=Object(i.a)(["\n  width: 100%;\n"]);return N=function(){return e},e}function C(){var e=Object(i.a)([""]);return C=function(){return e},e}var _=Object(d.a)(w.a).attrs((function(){return{span:12}}))(C()),D=d.a.img(N()),T=function(){return r.a.createElement(_,null,r.a.createElement(D,{src:A.a,alt:"Signin"}))},F=n(22),L=n(271),z=n(269);n(240);function M(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 20px;\n"]);return M=function(){return e},e}function G(){var e=Object(i.a)(["\n  text-align: center;\n"]);return G=function(){return e},e}function K(){var e=Object(i.a)(["\n  text-align: center;\n  font-size: 20px;\n  font-weight: bold;\n  color: #642828;\n  text-transform: uppercase;\n  margin-top: 20px;\n  margin-bottom: 50px;\n"]);return K=function(){return e},e}function H(){var e=Object(i.a)(["\n  padding: 40px;\n  font-weight: bold;\n"]);return H=function(){return e},e}function P(){var e=Object(i.a)(["\n  vertical-align: top;\n"]);return P=function(){return e},e}var W=Object(d.a)(w.a).attrs((function(){return{span:12}}))(P()),Y=d.a.div(H()),q=d.a.div(K()),J=d.a.div(G()),U=d.a.div(M()),V=function(){var e=Object(a.createRef)(),t=Object(a.createRef)(),n=Object(l.g)(),o=Object(a.useState)(!1),c=Object(F.a)(o,2),u=c[0],i=c[1];return r.a.createElement(W,null,r.a.createElement(Y,null,r.a.createElement(q,null,"LOG IN, START SEARCHING."),r.a.createElement(J,null,r.a.createElement("div",{style:{textAlign:"left"}},"Email",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(z.a,{ref:e,className:"inputEmail",placeholder:"example@asdf.com"}),r.a.createElement("div",{style:{textAlign:"left"}},"Password",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(z.a,{ref:t,type:"password",className:"inputPassword",placeholder:"input password"})),r.a.createElement(g.a,{type:"primary",style:{marginBottom:"30px"},loading:u,onClick:function(){var a,r,o,c;return m.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.current.state.value,r=t.current.state.value,u.prev=2,i(!0),u.next=6,m.a.awrap(E.a.post("https://api.marktube.tv/v1/me",{email:a,password:r}));case 6:o=u.sent,c=o.data.token,i(!1),localStorage.setItem("token",c),n.push("/"),u.next=19;break;case 13:u.prev=13,u.t0=u.catch(2),console.log(u.t0),i(!1),"USER_NOT_EXIST"===u.t0.response.data.error&&L.a.error("\uc720\uc800\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),"PASSWORD_NOT_MATCH"===u.t0.response.data.error?L.a.error("\ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4."):L.a.error("\ub85c\uadf8\uc778\uc5d0 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4.");case 19:case"end":return u.stop()}}),null,null,[[2,13]])}},"SIGN IN"),r.a.createElement("hr",{style:{border:"solid 0.8px rgba(120, 120, 120, .2)"}}),r.a.createElement(U,null,"Need to create an account?",r.a.createElement(g.a,{style:{border:"2px solid rgba(0, 150, 255, .8)",color:" rgba(0, 150, 255, .8)",fontWeight:"bold"}},"SIGN UP")),r.a.createElement(U,null,"Forgot your password?",r.a.createElement(g.a,{style:{border:"2px solid  rgba(0, 150, 255, .8)",color:" rgba(0, 150, 255, .8)",fontWeight:"bold"}},"RECOVERY"))))};function X(){var e=Object(i.a)(["\n  margin-top: 50px;\n  background-color: #f3f7f8;\n  margin-left: auto;\n  margin-right: auto;\n  width: 800px;\n"]);return X=function(){return e},e}function Q(){var e=Object(i.a)(["\n  width: 200px;\n  height: 8px;\n  margin-right: auto;\n  margin-left: auto;\n  margin-top: 20px;\n  background: linear-gradient(to right, #803b32, #ddb49b);\n"]);return Q=function(){return e},e}function Z(){var e=Object(i.a)(["\n  text-align: center;\n  font-size: 27px;\n  font-weight: bold;\n  text-transform: uppercase;\n"]);return Z=function(){return e},e}function $(){var e=Object(i.a)(["\n  text-align: center;\n  font-size: 40px;\n  font-weight: bold;\n  color: #642828;\n  text-transform: uppercase;\n"]);return $=function(){return e},e}function ee(){var e=Object(i.a)([""]);return ee=function(){return e},e}function te(){var e=Object(i.a)(["\n  height: 100vh;\n"]);return te=function(){return e},e}var ne=Object(d.a)(B.a).attrs((function(){return{type:"flex",align:"middle"}}))(te()),ae=Object(d.a)(w.a).attrs((function(){return{span:24}}))(ee()),re=d.a.div($()),oe=d.a.div(Z()),ce=d.a.div(Q()),ue=Object(d.a)(B.a).attrs((function(){return{type:"flex"}}))(X()),le=function(){return r.a.createElement(ne,null,r.a.createElement(ae,null,r.a.createElement(re,null,"Review Service For Books"),r.a.createElement(oe,null,"Please Share Your Opinion On Web Development Books."),r.a.createElement(ce,null),r.a.createElement(ue,null,r.a.createElement(T,null),r.a.createElement(V,null))))},ie=function(){return r.a.createElement("div",null,"NotFound\uc785\ub2c8\ub2e4.")},se=n(42);function de(e){return{type:"SET_ERROR",error:e}}var fe=n(147),me=n(148),be="https://api.marktube.tv/v1/book",pe=function(){function e(){Object(fe.a)(this,e)}return Object(me.a)(e,null,[{key:"getBooks",value:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",E.a.get(be,{headers:{Authorization:"Bearer ".concat(e)}}));case 1:case"end":return t.stop()}}))}},{key:"getBook",value:function(e,t){return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",E.a.get("".concat(be,"/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}));case 1:case"end":return n.stop()}}))}},{key:"addBook",value:function(e,t){return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",E.a.post(be,t,{headers:{Authorization:"Bearer ".concat(e)}}));case 1:case"end":return n.stop()}}))}},{key:"deleteBook",value:function(e,t){return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",E.a.delete("".concat(be,"/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}));case 1:case"end":return n.stop()}}))}},{key:"editBook",value:function(e,t,n){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",E.a.patch("".concat(be,"/").concat(t),n,{headers:{Authorization:"Bearer ".concat(e)}}));case 1:case"end":return a.stop()}}))}}]),e}(),ge=n(270),ve=n(267),Ee=n(6),ke=(n(131),s((function(e){var t=e.token,n=e.addBooks,o=e.isAddbookFormOpen,c=e.setIsAddbookFormOpen,u=Object(a.useState)(""),l=Object(F.a)(u,2),i=l[0],s=l[1],d=Object(a.useState)(""),f=Object(F.a)(d,2),b=f[0],p=f[1],v=Object(a.useState)(""),E=Object(F.a)(v,2),k=E[0],h=E[1],O=Object(a.useState)(""),y=Object(F.a)(O,2),j=y[0],x=y[1];return r.a.createElement("div",{className:"addBookModal"},"\ucc45 \uc81c\ubaa9 : ",r.a.createElement(z.a,{value:i,onChange:function(e){s(e.target.value)}}),"\ucc45 \uc124\uba85 :"," ",r.a.createElement(z.a.TextArea,{value:b,onChange:function(e){p(e.target.value)}}),"\ucc45 \uc800\uc790 : ",r.a.createElement(z.a,{value:k,onChange:function(e){h(e.target.value)}}),"\ucc45 \uc774\ubbf8\uc9c0 : ",r.a.createElement(z.a,{value:j,onChange:function(e){x(e.target.value)}}),r.a.createElement(g.a,{onClick:function(){var e;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={title:i,message:b,author:k,url:j},a.next=3,m.a.awrap(n(t,e));case 3:c(!o);case 4:case"end":return a.stop()}}))}},"\ucc45 \ucd94\uac00"))}))),he=Object(se.b)((function(e){return{books:e.books,error:e.error}}),(function(e){return{addBooks:function(t,n){e({type:"CLEAR_ERROR"});try{pe.addBook(t,n).then((function(t){console.log(t),e(function(e){return{type:"ADD_BOOK",book:e}}(n))}))}catch(a){e(de(a))}}}}))(ke),Oe=s((function(e){var t=e.token,n=e.isModifybookFormOpen,o=e.setIsModifybookFormOpen,c=e.targetId,u=e.books,l=e.modifyBook,i=Object(a.useState)(""),s=Object(F.a)(i,2),d=s[0],f=s[1],b=Object(a.useState)(""),p=Object(F.a)(b,2),v=p[0],E=p[1],k=Object(a.useState)(""),h=Object(F.a)(k,2),O=h[0],y=h[1],j=Object(a.useState)(""),x=Object(F.a)(j,2),I=x[0],S=x[1];return Object(a.useEffect)((function(){f(u.filter((function(e){return e.bookId===c}))[0].title),E(u.filter((function(e){return e.bookId===c}))[0].message),y(u.filter((function(e){return e.bookId===c}))[0].author),S(u.filter((function(e){return e.bookId===c}))[0].url)}),[u,c]),r.a.createElement("div",{className:"addBookModal"},"\ucc45 \uc81c\ubaa9 : ",r.a.createElement(z.a,{value:d,onChange:function(e){f(e.target.value)}}),"\ucc45 \uc124\uba85 :"," ",r.a.createElement(z.a.TextArea,{value:v,onChange:function(e){E(e.target.value)}}),"\ucc45 \uc800\uc790 :"," ",r.a.createElement(z.a,{value:O,onChange:function(e){y(e.target.value)}}),"\ucc45 \uc774\ubbf8\uc9c0 : ",r.a.createElement(z.a,{value:I,onChange:function(e){S(e.target.value)}}),r.a.createElement(g.a,{onClick:function(){var e;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={title:d,message:v,author:O,url:I},a.next=3,m.a.awrap(l(t,c,e));case 3:o(!n);case 4:case"end":return a.stop()}}))}},"\ucc45 \uc218\uc815"))})),ye=Object(se.b)((function(e){return{books:e.books,error:e.error}}),(function(e){return{modifyBook:function(t,n,a){e({type:"CLEAR_ERROR"});try{pe.editBook(t,n,a).then((function(t){console.log(t),e(function(e,t){return{type:"MODIFY_BOOK",bookId:e,book:t}}(n,a))}))}catch(r){e(de(r))}}}}))(Oe),je=b.a.Content,xe=s((function(e){var t=e.token,n=e.books,o=e.loading,c=(e.error,e.requestBooks),u=e.deleteBook,l=Object(a.useState)(!1),i=Object(F.a)(l,2),s=i[0],d=i[1],f=Object(a.useState)(!1),m=Object(F.a)(f,2),b=m[0],p=m[1],v=Object(a.useState)(!1),E=Object(F.a)(v,1)[0],k=Object(a.useState)(null),O=Object(F.a)(k,2),y=O[0],j=O[1];return Object(a.useEffect)((function(){c(t)}),[c,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement(je,{style:{padding:"50px",background:"lavenderblush"}},s?r.a.createElement(ge.a,{title:"\ucc45 \ucd94\uac00\ud558\uae30",visible:!E,bodyStyle:{background:"lavenderblush"},footer:null,onCancel:function(){return d(!s)}},r.a.createElement(he,{setIsAddbookFormOpen:d,isAddbookFormOpen:s,token:t})):null,b?r.a.createElement(ge.a,{title:"\ucc45 \uc218\uc815\ud558\uae30",visible:!E,bodyStyle:{background:"lavenderblush"},footer:null,onCancel:function(){return p(!b)}},r.a.createElement(ye,{token:t,isModifybookFormOpen:b,setIsModifybookFormOpen:p,targetId:y,setTargetId:j})):null,r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:380}},r.a.createElement("div",{className:"addBookBtn"},r.a.createElement(g.a,{onClick:function(){return d(!s)}},"\ucc45 \ucd94\uac00\ud558\uae30")),o?"loading...":r.a.createElement(ve.a,{itemLayout:"vertical",size:"large",pagination:{pageSize:5},dataSource:n,footer:r.a.createElement("div",{className:"footer"},"\uac1c\ubc1c \uc11c\uc801 \ud3c9\uac00 \uc11c\ube44\uc2a4 ",r.a.createElement("b",null,"by Sunnykim")),renderItem:function(e){return r.a.createElement(ve.a.Item,{key:e.bookId,extra:r.a.createElement("img",{width:100,alt:"logo",src:e.url})},r.a.createElement(ve.a.Item.Meta,{title:e.title}),r.a.createElement("div",{className:"author"},"\uc800\uc790 : ",e.author),r.a.createElement("div",{className:"description"},"\uc124\uba85 : ",e.message),r.a.createElement("div",{className:"textEditDeleteBtn"},r.a.createElement(Ee.a,{type:"edit",className:"editBtn",onClick:function(){return t=e.bookId,p(!b),void j(t);var t}}),r.a.createElement(Ee.a,{type:"delete",onClick:function(){return u(t,e.bookId)}})))}}))))})),Ie=Object(se.b)((function(e){return{books:e.books,loading:e.loading,error:e.error}}),(function(e){return{requestBooks:function(t){e({type:"START_LOADING"}),e({type:"CLEAR_ERROR"});try{pe.getBooks(t).then((function(t){e({type:"SET_BOOKS",books:t.data}),e({type:"END_LOADING"})}))}catch(n){e(de(n)),e({type:"END_LOADING"})}},deleteBook:function(t,n){pe.deleteBook(t,n).then((function(t){e(function(e){return{type:"DELETE_BOOK",bookId:e}}(n))}))}}}))(xe),Se=(n(259),function(e){var t=e.token;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie,{token:t}))}),Be=n(151),we=n.n(Be),Re=function(e){var t=e.error;return r.a.createElement("div",null,t.message)},Ae=function(){return r.a.createElement(we.a,{FallbackComponent:Re},r.a.createElement(u.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/signin",component:le}),r.a.createElement(l.b,{exact:!0,path:"/bookList",component:Se}),r.a.createElement(l.b,{exact:!0,path:"/",component:S}),r.a.createElement(l.b,{component:ie}))))},Ne=n(58),Ce=n(154),_e=n(107),De=[],Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;return"SET_BOOKS"===t.type?Object(_e.a)(t.books):"ADD_BOOK"===t.type?[].concat(Object(_e.a)(e),[t.book]):"DELETE_BOOK"===t.type?e.filter((function(e){return e.bookId!==t.bookId})):"MODIFY_BOOK"===t.type?e.map((function(e){return e.bookId===t.bookId?Object(Ce.a)({},e,{title:t.book.title,message:t.book.message,author:t.book.author,url:t.book.url}):e})):e},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"START_LOADING"===t.type||"END_LOADING"!==t.type&&e},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_ERROR"===t.type?t.error:"CLEAR_ERROR"===t.type?null:e},ze=Object(Ne.b)({books:Te,loading:Fe,error:Le}),Me=Object(Ne.c)(ze);c.a.render(r.a.createElement(se.a,{store:Me},r.a.createElement(Ae,null)),document.getElementById("root"))}},[[158,1,2]]]);
//# sourceMappingURL=main.50e22d88.chunk.js.map