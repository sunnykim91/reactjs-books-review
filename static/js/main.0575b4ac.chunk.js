(this["webpackJsonpreactjs-books-review"]=this["webpackJsonpreactjs-books-review"]||[]).push([[0],{124:function(e,t,n){},133:function(e,t,n){e.exports=n.p+"static/media/bg_book.313bd1c7.jpg"},136:function(e,t,n){e.exports=n.p+"static/media/bg_signin.ef01ffe9.png"},149:function(e,t,n){e.exports=n(250)},155:function(e,t,n){},161:function(e,t,n){},230:function(e,t,n){},240:function(e,t,n){},250:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(3),c=n.n(o),u=(n(154),n(155),n(55)),l=n(39),i=n(18);var s=function(e){function t(t){var n=localStorage.getItem("token");return null===n?r.a.createElement(l.a,{to:"/signin"}):r.a.createElement(e,Object.assign({},t,{token:n}))}return t.displayName="withAuth(".concat(e.name,")"),t},d=n(19),f=n(16),m=n.n(f),b=n(253),p=n(257),g=n(40),v=(n(161),n(25)),h=n.n(v),k=b.a.Header,E=function(){var e=Object(l.g)();return r.a.createElement(k,{style:{width:"100%",padding:"0px"}},r.a.createElement(p.a,{theme:"light",mode:"horizontal",style:{lineHeight:"64px",padding:"0px",color:"hotpink",fontSize:"large",background:"floralwhite"},onClick:function(t){"1"===t.key?e.push("/"):"2"===t.key&&e.push("/bookList")}},r.a.createElement(p.a.Item,{key:"1",className:"menu"},"Home"),r.a.createElement(p.a.Item,{key:"2"},"\ucc45 \ubaa9\ub85d")),r.a.createElement(g.a,{className:"signOutBtn",onClick:function(){return function(){var t,n;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=localStorage.getItem("token"),a.next=4,m.a.awrap(h.a.delete("https://api.marktube.tv/v1/me",{headers:{Authorization:"Bearer ".concat(t)}}));case 4:n=a.sent,localStorage.removeItem("token"),n.data.success&&alert("\ub85c\uadf8\uc544\uc6c3 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),e.push("/signin"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),null,null,[[0,10]])}()}},"\ub85c\uadf8\uc544\uc6c3"))},O=n(133),j=n.n(O);function x(){var e=Object(i.a)(["\n  width: 500px;\n  height: 80vh;\n"]);return x=function(){return e},e}var y=b.a.Content,w=d.a.img(x()),S=s((function(e){e.token;return r.a.createElement(b.a,null,r.a.createElement(E,null),r.a.createElement(y,{style:{padding:"50px",background:"lavenderblush"}},r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:380,display:"flex",justifyContent:"space-evenly",alignItems:"center"}},r.a.createElement(w,{src:j.a}),r.a.createElement("div",{style:{fontSize:"20px"}},"Sunny\uc758 \uac1c\ubc1c\uc11c\uc801 \ub9ac\uc2a4\ud2b8\uc785\ub2c8\ub2e4."))))})),I=n(255),B=n(254),C=n(136),N=n.n(C);function A(){var e=Object(i.a)(["\n  width: 100%;\n"]);return A=function(){return e},e}function z(){var e=Object(i.a)([""]);return z=function(){return e},e}var F=Object(d.a)(B.a).attrs((function(){return{span:12}}))(z()),R=d.a.img(A()),M=function(){return r.a.createElement(F,null,r.a.createElement(R,{src:N.a,alt:"Signin"}))},T=n(20),H=n(260),L=n(258);n(230);function P(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 20px;\n"]);return P=function(){return e},e}function _(){var e=Object(i.a)(["\n  text-align: center;\n"]);return _=function(){return e},e}function G(){var e=Object(i.a)(["\n  text-align: center;\n  font-size: 20px;\n  font-weight: bold;\n  color: #642828;\n  text-transform: uppercase;\n  margin-top: 20px;\n  margin-bottom: 50px;\n"]);return G=function(){return e},e}function W(){var e=Object(i.a)(["\n  padding: 40px;\n  font-weight: bold;\n"]);return W=function(){return e},e}function D(){var e=Object(i.a)(["\n  vertical-align: top;\n"]);return D=function(){return e},e}var J=Object(d.a)(B.a).attrs((function(){return{span:12}}))(D()),U=d.a.div(W()),Y=d.a.div(G()),V=d.a.div(_()),X=d.a.div(P()),q=function(){var e=Object(a.createRef)(),t=Object(a.createRef)(),n=Object(l.g)(),o=Object(a.useState)(!1),c=Object(T.a)(o,2),u=c[0],i=c[1];return r.a.createElement(J,null,r.a.createElement(U,null,r.a.createElement(Y,null,"LOG IN, START SEARCHING."),r.a.createElement(V,null,r.a.createElement("div",{style:{textAlign:"left"}},"Email",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(L.a,{ref:e,className:"inputEmail",placeholder:"example@asdf.com"}),r.a.createElement("div",{style:{textAlign:"left"}},"Password",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(L.a,{ref:t,type:"password",className:"inputPassword",placeholder:"input password"})),r.a.createElement(g.a,{type:"primary",style:{marginBottom:"30px"},loading:u,onClick:function(){var a,r,o,c;return m.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return a=e.current.state.value,r=t.current.state.value,u.prev=2,i(!0),u.next=6,m.a.awrap(h.a.post("https://api.marktube.tv/v1/me",{email:a,password:r}));case 6:o=u.sent,c=o.data.token,i(!1),localStorage.setItem("token",c),n.push("/"),u.next=19;break;case 13:u.prev=13,u.t0=u.catch(2),console.log(u.t0),i(!1),"USER_NOT_EXIST"===u.t0.response.data.error&&H.a.error("\uc720\uc800\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),"PASSWORD_NOT_MATCH"===u.t0.response.data.error?H.a.error("\ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4."):H.a.error("\ub85c\uadf8\uc778\uc5d0 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4.");case 19:case"end":return u.stop()}}),null,null,[[2,13]])}},"SIGN IN"),r.a.createElement("hr",{style:{border:"solid 0.8px rgba(120, 120, 120, .2)"}}),r.a.createElement(X,null,"Need to create an account?",r.a.createElement(g.a,{style:{border:"2px solid rgba(0, 150, 255, .8)",color:" rgba(0, 150, 255, .8)",fontWeight:"bold"}},"SIGN UP")),r.a.createElement(X,null,"Forgot your password?",r.a.createElement(g.a,{style:{border:"2px solid  rgba(0, 150, 255, .8)",color:" rgba(0, 150, 255, .8)",fontWeight:"bold"}},"RECOVERY"))))};function K(){var e=Object(i.a)(["\n  margin-top: 50px;\n  background-color: #f3f7f8;\n  margin-left: auto;\n  margin-right: auto;\n  width: 800px;\n"]);return K=function(){return e},e}function Q(){var e=Object(i.a)(["\n  width: 200px;\n  height: 8px;\n  margin-right: auto;\n  margin-left: auto;\n  margin-top: 20px;\n  background: linear-gradient(to right, #803b32, #ddb49b);\n"]);return Q=function(){return e},e}function Z(){var e=Object(i.a)(["\n  text-align: center;\n  font-size: 27px;\n  font-weight: bold;\n  text-transform: uppercase;\n"]);return Z=function(){return e},e}function $(){var e=Object(i.a)(["\n  text-align: center;\n  font-size: 40px;\n  font-weight: bold;\n  color: #642828;\n  text-transform: uppercase;\n"]);return $=function(){return e},e}function ee(){var e=Object(i.a)([""]);return ee=function(){return e},e}function te(){var e=Object(i.a)(["\n  height: 100vh;\n"]);return te=function(){return e},e}var ne=Object(d.a)(I.a).attrs((function(){return{type:"flex",align:"middle"}}))(te()),ae=Object(d.a)(B.a).attrs((function(){return{span:24}}))(ee()),re=d.a.div($()),oe=d.a.div(Z()),ce=d.a.div(Q()),ue=Object(d.a)(I.a).attrs((function(){return{type:"flex"}}))(K()),le=function(){return r.a.createElement(ne,null,r.a.createElement(ae,null,r.a.createElement(re,null,"Review Service For Books"),r.a.createElement(oe,null,"Please Share Your Opinion On Web Development Books."),r.a.createElement(ce,null),r.a.createElement(ue,null,r.a.createElement(M,null),r.a.createElement(q,null))))},ie=function(){return r.a.createElement("div",null,"NotFound\uc785\ub2c8\ub2e4.")},se=n(259),de=n(256),fe=n(6),me=(n(124),s((function(e){var t=e.token,n=Object(a.useContext)(Ee),o=Object(a.useState)(""),c=Object(T.a)(o,2),u=c[0],l=c[1],i=Object(a.useState)(""),s=Object(T.a)(i,2),d=s[0],f=s[1],b=Object(a.useState)(""),p=Object(T.a)(b,2),v=p[0],k=p[1],E=Object(a.useState)(""),O=Object(T.a)(E,2),j=O[0],x=O[1];return Object(a.useEffect)((function(){}),[n.books]),r.a.createElement("div",{className:"addBookModal"},"\ucc45 \uc81c\ubaa9 : ",r.a.createElement(L.a,{value:u,onChange:function(e){l(e.target.value)}}),"\ucc45 \uc124\uba85 :"," ",r.a.createElement(L.a.TextArea,{value:d,onChange:function(e){f(e.target.value)}}),"\ucc45 \uc800\uc790 : ",r.a.createElement(L.a,{value:v,onChange:function(e){k(e.target.value)}}),"\ucc45 \uc774\ubbf8\uc9c0 : ",r.a.createElement(L.a,{value:j,onChange:function(e){x(e.target.value)}}),r.a.createElement(g.a,{onClick:function(){var e;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={title:u,message:d,author:v,url:j},a.next=3,m.a.awrap(h.a.post("https://api.marktube.tv/v1/book",e,{headers:{Authorization:"Bearer ".concat(t)}}));case 3:200===a.sent.status&&n.getBookList(),n.setIsAddbookFormOpen(!n.isAddbookFormOpen);case 6:case"end":return a.stop()}}))}},"\ucc45 \ucd94\uac00"))}))),be=(n(240),n(139)),pe=n(140),ge="https://api.marktube.tv/v1/book",ve=function(){function e(){Object(be.a)(this,e)}return Object(pe.a)(e,null,[{key:"getBooks",value:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h.a.get(ge,{headers:{Authorization:"Bearer ".concat(e)}}));case 1:case"end":return t.stop()}}))}},{key:"getBook",value:function(e,t){return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",h.a.get("".concat(ge,"/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}));case 1:case"end":return n.stop()}}))}},{key:"addBook",value:function(e,t){return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",h.a.post(ge,t,{headers:{Authorization:"Bearer ".concat(e)}}));case 1:case"end":return n.stop()}}))}},{key:"deleteBook",value:function(e,t){return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",h.a.delete("".concat(ge,"/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}}));case 1:case"end":return n.stop()}}))}},{key:"editBook",value:function(e,t,n){return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",h.a.patch("".concat(ge,"/").concat(t),n,{headers:{Authorization:"Bearer ".concat(e)}}));case 1:case"end":return a.stop()}}))}}]),e}(),he=s((function(e){var t=e.token,n=Object(a.useContext)(Ee),o=Object(a.useState)(""),c=Object(T.a)(o,2),u=c[0],l=c[1],i=Object(a.useState)(""),s=Object(T.a)(i,2),d=s[0],f=s[1],b=Object(a.useState)(""),p=Object(T.a)(b,2),v=p[0],h=p[1],k=Object(a.useState)(""),E=Object(T.a)(k,2),O=E[0],j=E[1];return Object(a.useEffect)((function(){l(n.books.filter((function(e){return e.bookId===n.targetId}))[0].title),f(n.books.filter((function(e){return e.bookId===n.targetId}))[0].message),h(n.books.filter((function(e){return e.bookId===n.targetId}))[0].author),j(n.books.filter((function(e){return e.bookId===n.targetId}))[0].url)}),[n.books,n.targetId]),r.a.createElement("div",{className:"addBookModal"},"\ucc45 \uc81c\ubaa9 : ",r.a.createElement(L.a,{value:u,onChange:function(e){l(e.target.value)}}),"\ucc45 \uc124\uba85 :"," ",r.a.createElement(L.a.TextArea,{value:d,onChange:function(e){f(e.target.value)}}),"\ucc45 \uc800\uc790 :"," ",r.a.createElement(L.a,{value:v,onChange:function(e){h(e.target.value)}}),"\ucc45 \uc774\ubbf8\uc9c0 : ",r.a.createElement(L.a,{value:O,onChange:function(e){j(e.target.value)}}),r.a.createElement(g.a,{onClick:function(){var e;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={title:u,message:d,author:v,url:O},a.next=3,m.a.awrap(ve.editBook(t,n.targetId,e));case 3:200===a.sent.status&&n.getBookList(),n.setIsModifybookFormOpen(!n.isModifybookFormOpen);case 6:case"end":return a.stop()}}))}},"\ucc45 \uc218\uc815"))})),ke=b.a.Content,Ee=Object(a.createContext)(null),Oe=s((function(e){var t=e.token,n=Object(a.useState)([]),o=Object(T.a)(n,2),c=o[0],u=o[1],l=Object(a.useState)(!1),i=Object(T.a)(l,2),s=i[0],d=i[1],f=Object(a.useState)(!1),m=Object(T.a)(f,2),b=m[0],p=m[1],v=Object(a.useState)(!1),h=Object(T.a)(v,1)[0],k=Object(a.useState)(null),O=Object(T.a)(k,2),j=O[0],x=O[1],y=Object(a.useCallback)((function(){ve.getBooks(t).then((function(e){u(e.data)}))}),[t]),w={isAddbookFormOpen:s,setIsAddbookFormOpen:d,isModifybookFormOpen:b,setIsModifybookFormOpen:p,books:c,getBookList:y,targetId:j};return Object(a.useEffect)((function(){y()}),[y,t]),r.a.createElement(Ee.Provider,{value:w},r.a.createElement(E,null),r.a.createElement(ke,{style:{padding:"50px",background:"lavenderblush"}},s?r.a.createElement(se.a,{title:"\ucc45 \ucd94\uac00\ud558\uae30",visible:!h,bodyStyle:{background:"lavenderblush"},footer:null,onCancel:function(){return d(!s)}},r.a.createElement(me,null)):null,b?r.a.createElement(se.a,{title:"\ucc45 \uc218\uc815\ud558\uae30",visible:!h,bodyStyle:{background:"lavenderblush"},footer:null,onCancel:function(){return p(!b)}},r.a.createElement(he,null)):null,r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:380}},r.a.createElement("div",{className:"addBookBtn"},r.a.createElement(g.a,{onClick:function(){return d(!s)}},"\ucc45 \ucd94\uac00\ud558\uae30")),r.a.createElement(de.a,{itemLayout:"vertical",size:"large",pagination:{pageSize:5},dataSource:c,footer:r.a.createElement("div",{className:"footer"},"\uac1c\ubc1c \uc11c\uc801 \ud3c9\uac00 \uc11c\ube44\uc2a4 ",r.a.createElement("b",null,"by Sunnykim")),renderItem:function(e){return r.a.createElement(de.a.Item,{key:e.bookId,extra:r.a.createElement("img",{width:100,alt:"logo",src:e.url})},r.a.createElement(de.a.Item.Meta,{title:e.title}),r.a.createElement("div",{className:"author"},"\uc800\uc790 : ",e.author),r.a.createElement("div",{className:"description"},"\uc124\uba85 : ",e.message),r.a.createElement("div",{className:"textEditDeleteBtn"},r.a.createElement(fe.a,{type:"edit",className:"editBtn",onClick:function(){return t=e.bookId,p(!b),void x(t);var t}}),r.a.createElement(fe.a,{type:"delete",onClick:function(){return n=e.bookId,void ve.deleteBook(t,n).then(u(c.filter((function(e){return e.bookId!==n}))));var n}})))}}))))})),je=n(143),xe=n.n(je),ye=function(e){var t=e.error;return r.a.createElement("div",null,t.message)},we=function(){return r.a.createElement(xe.a,{FallbackComponent:ye},r.a.createElement(u.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/signin",component:le}),r.a.createElement(l.b,{exact:!0,path:"/bookList",component:Oe}),r.a.createElement(l.b,{exact:!0,path:"/",component:S}),r.a.createElement(l.b,{component:ie}))))};c.a.render(r.a.createElement(we,null),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.0575b4ac.chunk.js.map